<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Prueba JSON</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script>
        var test_json = { 
            'operation': 'create_mirror_profile', 
            'operation_args': { 
                'id': '0123456789', 
                'password': 'password', 
                'mail': 'other@coldmail.com', 
                'mail_password': 'password', 
                'news_country': 'Mexico', 
                'weather_country': 'Mexico', 
                'weather_city': 'Queretaro' 
            } 
        };
        var test_json2 = { 
            'operation': 'delete_user', 
            'operation_args': { 
                'id': '9876543210'
            } 
        };
        var test_json3 = { 
            'operation': 'update_user', 
            'operation_args': { 
                'id': '0123456789',
                'password': 'test'
            } 
        };
        var test_json4 = { 
            'operation': 'auth_user', 
            'operation_args': { 
                'id': '9876543210',
                'password': 'password'
            } 
        };
        $(document).ready(() => {
            $("#button").click(() => {
                var json = JSON.stringify(test_json4);
                $.post("http://127.0.0.1:8086/", {
                    "data_json": json
                }).done(function (string) {
                    let response = JSON.parse(string);
                    console.log('Entra al done...');
                    console.log(response);
                });
            });
        });
    </script>
</head>

<body>
    <h1>Prueba JSON</h1>
    <button id="button">Click para probar!</button>
</body>

</html>